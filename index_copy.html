<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Poste de travail</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  </head>
  <body>

    <div id='save_params' style="display: none;">
      <div id="params_un_ecran" style="display: none;" class="">
        <img src="./images/nb_ecrans_un.png" style="display:inline-block; vertical-align:middle;" height="40" width="45" alt="">
        <span  style="font-size: 20px; margin-left: 4%;">Vous utilisez un √©cran</span>
      </div>
      <div id="params_plusieurs_ecran" style="display: none;" class="">
        <img src="./images/nb_ecrans_plusieurs.PNG" style="display:inline-block; vertical-align:middle;" height="42" width="88" alt="">
        <span  style="font-size: 20px; margin-left: 4%;">Vous utilisez 2 √©crans ou plus</span>
      </div>
      <div id="params_verres_pro_oui" style="display: none;" class="">
        <img src="./images/verres_pro_oui.png" style="display:inline-block; vertical-align:middle;" height="28" width="43" alt="">
        <span  style="font-size: 20px; margin-left: 4%;">Vous portez des verres progressifs</span>
      </div>
      <div id="params_verres_pro_non" style="display: none;" class="">
        <img src="./images/verres_pro_non.png" style="display:inline-block; vertical-align:middle;" height="28" width="43" alt="">
        <span  style="font-size: 20px; margin-left: 4%;">Vous ne portez pas de verres progressifs</span>
      </div>
    </div>

    <h1 style="text-align: center">üìù √âvaluez votre poste de travail !</h1>
    <h3 style="text-align: center">Questionnaire int√©ractif propos√© par le GQS</h3>
    <br>


    <!-- ////////////////////// -->
    <!-- //// PARTIE PARAMS ////-->
    <!-- ////////////////////// -->

    <div id="partie_params">
      <br><br>
      <h2 style="text-align: center">Avant tout, r√©pondez √† ces questions pour affiner l'√©valuation :</h2>
      <div class="" style="">
        <div class="container">
          <div class="radio_container" style="width: 80%">
            <h1 id="titre_params">Vous utilisez :</h1>
            <input type="radio" name="nb_ecrans" id="nb_ecrans_un" value="nb_ecrans_un" onchange="def_params()">
            <label for="nb_ecrans_un" style="width: 90%">Un seul √©cran</label>
            <input type="radio" name="nb_ecrans" id="nb_ecrans_plusieurs" value="nb_ecrans_plusieurs" onchange="def_params()">
            <label for="nb_ecrans_plusieurs" style="width: 90%">Plusieurs √©crans (2 ou +)</label>
          </div>
        </div>
        <br><br>
        <div class="container">
          <div class="radio_container" style="width: 80%">
            <h1 id="titre_params">Portez-vous des verres progressif ?</h1>
            <input type="radio" name="verres_pro" id="verres_pro_oui" value="verres_pro_oui" onchange="def_params()">
            <label for="verres_pro_oui" style="width: 90%">Oui</label>
            <input type="radio" name="verres_pro" id="verres_pro_non" value="verres_pro_non" onchange="def_params()">
            <label for="verres_pro_non" style="width: 90%">Non</label>
          </div>
        </div>
      </div>

      <button type="button" name="button" id="valider_params" style="display: none;" onclick="commencer_questionnaire()">C'est parti !</button>
    </div>


    <!-- ////////////////////////// -->
    <!-- //// PARTIE CERVICALES ////-->
    <!-- ////////////////////////// -->

    <fieldset id="partie_cervicales" style="display: none; margin: 0 auto;" class="">
      <legend>Les cervicales</legend>
      <div class="container">
        <h2 for="">1 ‚Ä¢ Votre √©cran est-il positionn√© en face de vous ?</h2>
        <div class="radio_container">
          <input type="radio" name="face_ecran" id="face_ecran_oui" value="face_ecran_oui" onclick="evaluer()">
          <label for="face_ecran_oui">Oui</label>
          <input type="radio" name="face_ecran" id="face_ecran_non" value="face_ecran_non" onclick="evaluer()">
          <label for="face_ecran_non">Non</label>
        </div>
      </div>

      <div class="container">
        <h2 for="">2 ‚Ä¢ Le haut de votre √©cran est-il √† hauteur de vos yeux ?</h2>
        <div class="radio_container">
          <input type="radio" name="haut_ecran" id="haut_ecran_oui" value="haut_ecran_oui" onclick="evaluer()">
          <label for="haut_ecran_oui">Oui</label>
          <input type="radio" name="haut_ecran" id="haut_ecran_non" value="haut_ecran_non" onclick="evaluer()">
          <label for="haut_ecran_non">Non</label>
        </div>
      </div>
      <span id="affiche_score_cervicales"></span>
    </fieldset>


    <!-- //////////////////// -->
    <!-- //// PARTIE YEUX ////-->
    <!-- //////////////////// -->

    <fieldset id="partie_yeux" style="display: none; margin: 0 auto;" class="">
      <legend>Les yeux</legend>
      <div class="container">
        <h2 for="">3 ‚Ä¢ Votre √©cran est-il perpendiculaire aux fen√™tres ?</h2>
        <div class="radio_container">
          <input type="radio" name="per_ecran" id="per_ecran_oui" value="per_ecran_oui" onclick="evaluer()">
          <label for="per_ecran_oui">Oui</label>
          <input type="radio" name="per_ecran" id="per_ecran_non" value="per_ecran_non" onclick="evaluer()">
          <label for="per_ecran_non">Non</label>
        </div>
      </div>
      <div class="container">
        <h2 for="">4 ‚Ä¢ Avez-vous d√©j√† ajust√© la luminosit√© de votre √©cran ?</h2>
        <div class="radio_container">
          <input type="radio" name="lum_ecran" id="lum_ecran_oui" value="lum_ecran_oui" onclick="evaluer()">
          <label for="lum_ecran_oui">Oui</label>
          <input type="radio" name="lum_ecran" id="lum_ecran_non" value="lum_ecran_non" onclick="evaluer()">
          <label for="lum_ecran_non">Non</label>
        </div>
      </div>
      <span id="affiche_score_yeux"></span>
    </fieldset>


    <!-- /////////////////////// -->
    <!-- //// PARTIE EPAULES ////-->
    <!-- /////////////////////// -->

    <fieldset id="partie_epaules" style="display: none; margin: 0 auto;" class="">
      <legend>Les √©paules</legend>
      <div class="container">
        <h2 for="">5 ‚Ä¢ Vos avant-bras reposent-ils sur les accoudoirs ou sur le bureau ?</h2>
        <div class="radio_container">
          <input type="radio" name="avant_bras" id="avant_bras_oui" value="avant_bras_oui" onclick="evaluer()">
          <label for="avant_bras_oui">Oui</label>
          <input type="radio" name="avant_bras" id="avant_bras_non" value="avant_bras_non" onclick="evaluer()">
          <label for="avant_bras_non">Non</label>
        </div>
      </div>
      <div class="container">
        <h2 for="">6 ‚Ä¢ Votre souris est-elle positionn√©e √† proximit√© du clavier ?</h2>
        <div class="radio_container">
          <input type="radio" name="souris_proche" id="souris_proche_oui" value="souris_proche_oui" onclick="evaluer()">
          <label for="souris_proche_oui">Oui</label>
          <input type="radio" name="souris_proche" id="souris_proche_non" value="souris_proche_non" onclick="evaluer()">
          <label for="souris_proche_non">Non</label>
        </div>
      </div>
      <div class="container">
        <h2 for="">7 ‚Ä¢ Votre clavier est-il √©loign√© d'au moins 10 cm du rebord de votre bureau ?</h2>
        <div class="radio_container">
          <input type="radio" name="clavier_loin" id="clavier_loin_oui" value="clavier_loin_oui" onclick="evaluer()">
          <label for="clavier_loin_oui">Oui</label>
          <input type="radio" name="clavier_loin" id="clavier_loin_non" value="clavier_loin_non" onclick="evaluer()">
          <label for="clavier_loin_non">Non</label>
        </div>
      </div>
      <span id="affiche_score_epaules"></span>
    </fieldset>

    <!-- ///////////////////////// -->
    <!-- //// PARTIE RESULTATS ////-->
    <!-- ///////////////////////// -->

    <div id="partie_resultats" style="text-align: center; display: none; width: 100%;" class="">
      <img src="images/mannequin_res.png" style="display:inline-block; vertical-align:middle;" height="35%" width="35%" alt="">
      <div style="display:inline-block; vertical-align:middle; width: 50%;" class="">
        <div style="text-align: left; display: flex;" class="">
          <div id="point_res_yeux" style="border: 2px solid grey; border-radius: 9999px; width: 30px; height: 30px; margin-top: 0.65%; text-align: center; display:inline-block; vertical-align:middle;" class="">
            <span style="font-size: 25px; font-weight: bold;">1</span>
          </div>
          <h3 id="texte_res_yeux" style="margin-left: 1%;"></h3>
        </div>
        <div style="text-align: left; display: flex;" class="">
          <div id="point_res_epaules" style="border: 2px solid grey; border-radius: 9999px; width: 30px; height: 30px; margin-top: 0.65%; text-align: center; display:inline-block; vertical-align:middle;" class="">
            <span style="font-size: 25px; font-weight: bold;">2</span>
          </div>
          <h3 id="texte_res_epaules" style="margin-left: 1%;"></h3>
        </div>
        <div style="text-align: left; display: flex;" class="">
          <div id="point_res_cervicales" style="border: 2px solid grey; border-radius: 9999px; width: 30px; height: 30px; margin-top: 0.65%; text-align: center; display:inline-block; vertical-align:middle;" class="">
            <span style="font-size: 25px; font-weight: bold;">3</span>
          </div>
          <h3 id="texte_res_cervicales" style="margin-left: 1%;"></h3>
        </div>
      </div>
    </div>



    <div style="display: flex; margin: 0 auto; width: 70%;" class="">
      <button type="button" name="button" id="retour" style="display: none;" onclick="question_precedente()">‚¨Ö | Pr√©c√©dent</button>
      <button type="button" name="button" id="continuer" style="display: none;" onclick="question_suivante()">Continuer | ‚û°</button>
      <button type="button" name="button" id="terminer" style="display: none;" onclick="terminer()">‚úì | Terminer</button>
    </div>

    <div style="display: none;" class="">
      <div class="">
        <h1>Loading</h1>
        <progress id="niveau" style = "background-color: #0091EA;" value = "0" max = "100"/>
      </div>
      <div id="res_bien" style="display: none;" class="">
        <span>üü¢üü¢ Bravo ! Vos conditions de travail sont supers ! üü¢üü¢</span>
      </div>
      <div id="res_nul" style="display: none;" class="">
        <span>üî¥üî¥ Et non mince ... C'est nul ! üî¥üî¥</span>
      </div>
    </div>

    <script type="text/javascript">

      function def_params(){
        var nb_ecrans = document.querySelector('input[name="nb_ecrans"]:checked') ? document.querySelector('input[name="nb_ecrans"]:checked').value : "";
        var verres_pro = document.querySelector('input[name="verres_pro"]:checked') ? document.querySelector('input[name="verres_pro"]:checked').value : "";
        if(nb_ecrans != "" && verres_pro != ""){
          document.getElementById("valider_params").style.display = "flex";
        }
      }

      function commencer_questionnaire(){
        var nb_ecrans = document.querySelector('input[name="nb_ecrans"]:checked').value;
        var verres_pro = document.querySelector('input[name="verres_pro"]:checked').value;
        document.getElementById("save_params").style.display = "block";
        if(nb_ecrans == "nb_ecrans_un"){
          document.getElementById("params_un_ecran").style.display = "block";
          document.getElementById("params_plusieurs_ecran").style.display = "none";
        } else {
          document.getElementById("params_plusieurs_ecran").style.display = "block";
          document.getElementById("params_un_ecran").style.display = "none";
        }
        if(verres_pro == "verres_pro_oui"){
          document.getElementById("params_verres_pro_oui").style.display = "block";
          document.getElementById("params_verres_pro_non").style.display = "none";
        } else {
          document.getElementById("params_verres_pro_non").style.display = "block";
          document.getElementById("params_verres_pro_oui").style.display = "none";
        }
        document.getElementById('partie_params').style.display = 'none';
        document.getElementById('partie_cervicales').style.display = 'block';
      }

      function question_suivante(){
        var per_ecran = document.querySelector('input[name="per_ecran"]:checked') ? document.querySelector('input[name="per_ecran"]:checked').value : "";
        var lum_ecran = document.querySelector('input[name="lum_ecran"]:checked') ? document.querySelector('input[name="lum_ecran"]:checked').value : "";
        var avant_bras = document.querySelector('input[name="avant_bras"]:checked') ? document.querySelector('input[name="avant_bras"]:checked').value : "";
        var souris_proche = document.querySelector('input[name="souris_proche"]:checked') ? document.querySelector('input[name="souris_proche"]:checked').value : "";
        var clavier_loin = document.querySelector('input[name="clavier_loin"]:checked') ? document.querySelector('input[name="clavier_loin"]:checked').value : "";

        if(document.getElementById('partie_cervicales').style.display != "none"){
          document.getElementById('partie_cervicales').style.display = 'none';
          document.getElementById('partie_yeux').style.display = 'block';
          document.getElementById('retour').style.display = 'block';
          if(per_ecran != "" && lum_ecran != ""){
            document.getElementById('continuer').style.display = "flex";
          } else {
            document.getElementById('continuer').style.display = 'none';
          }
        } else if(document.getElementById('partie_yeux').style.display != "none"){
          document.getElementById('partie_yeux').style.display = 'none';
          document.getElementById('partie_epaules').style.display = 'block';
          document.getElementById('continuer').style.display = 'none';
          if(avant_bras != "" && souris_proche != "" && clavier_loin != ""){
            document.getElementById('terminer').style.display = "block";
          } else {
            document.getElementById('terminer').style.display = 'none';
          }

        }
      }

      function question_precedente(){
        if(document.getElementById('partie_epaules').style.display != "none"){
          document.getElementById('partie_epaules').style.display = 'none';
          document.getElementById('partie_yeux').style.display = 'block';
          document.getElementById('continuer').style.display = 'block';
          document.getElementById('terminer').style.display = "none";
        } else if(document.getElementById('partie_yeux').style.display != "none"){
          document.getElementById('partie_yeux').style.display = 'none';
          document.getElementById('partie_cervicales').style.display = 'block';
          document.getElementById('retour').style.display = 'none';
          document.getElementById('continuer').style.display = 'block';
        }
      }

      function evaluer(){
        var face_ecran = document.querySelector('input[name="face_ecran"]:checked') ? document.querySelector('input[name="face_ecran"]:checked').value : "";
        var haut_ecran = document.querySelector('input[name="haut_ecran"]:checked') ? document.querySelector('input[name="haut_ecran"]:checked').value : "";
        var per_ecran = document.querySelector('input[name="per_ecran"]:checked') ? document.querySelector('input[name="per_ecran"]:checked').value : "";
        var lum_ecran = document.querySelector('input[name="lum_ecran"]:checked') ? document.querySelector('input[name="lum_ecran"]:checked').value : "";
        var avant_bras = document.querySelector('input[name="avant_bras"]:checked') ? document.querySelector('input[name="avant_bras"]:checked').value : "";
        var souris_proche = document.querySelector('input[name="souris_proche"]:checked') ? document.querySelector('input[name="souris_proche"]:checked').value : "";
        var clavier_loin = document.querySelector('input[name="clavier_loin"]:checked') ? document.querySelector('input[name="clavier_loin"]:checked').value : "";

        // Partie CERVICALES
        var score_cervicales = 0;
        if(face_ecran == "face_ecran_non"){
          score_cervicales += 1;
        }
        if(haut_ecran == "haut_ecran_non"){
          score_cervicales += 1;
        }
        document.getElementById('affiche_score_cervicales').innerHTML = 'Score Cervicales de -' + score_cervicales + ' points !';
        if(document.getElementById('partie_cervicales').style.display != "none" && face_ecran != "" && haut_ecran != ""){
          document.getElementById('continuer').style.display = "flex";
        }

        // Partie YEUX
        var score_yeux = 0;
        if(per_ecran == "per_ecran_non"){
          score_yeux += 1;
        }
        if(lum_ecran == "lum_ecran_non"){
          score_yeux += 1;
        }
        document.getElementById('affiche_score_yeux').innerHTML = 'Score Yeux de ' + score_yeux + ' points !';
        if(document.getElementById('partie_yeux').style.display != "none" && per_ecran != "" && lum_ecran != ""){
          document.getElementById('continuer').style.display = "flex";
        }

        // Partie EPAULES
        var score_epaules = 0;
        if(avant_bras == "avant_bras_non"){
          score_epaules += 2;
        }
        if(souris_proche == "souris_proche_non"){
          score_epaules += 1;
        }
        if(clavier_loin == "clavier_loin_non"){
          score_epaules += 2;
        }
        document.getElementById('affiche_score_epaules').innerHTML = 'Score Epaules de ' + score_epaules + ' points !';
        if(document.getElementById('partie_epaules').style.display != "none" && avant_bras != "" && souris_proche != "" && clavier_loin != ""){
          document.getElementById('terminer').style.display = "flex";
        }
        return [score_cervicales, score_yeux, score_epaules];
      }

      function terminer(){
        var liste_scores = evaluer();
        var point_res_cervicales = document.getElementById('point_res_cervicales');
        var texte_res_cervicales = document.getElementById('texte_res_cervicales');
        var point_res_yeux = document.getElementById('point_res_yeux');
        var texte_res_yeux = document.getElementById('texte_res_yeux');
        var point_res_epaules = document.getElementById('point_res_epaules');
        var texte_res_epaules = document.getElementById('texte_res_epaules');

        if(liste_scores[0] == 0){
          point_res_cervicales.style.backgroundColor = 'green';
          texte_res_cervicales.innerHTML = 'Vos cervicales vont bien ! Continuez ainsi !';
        } else if(liste_scores[0] == 1){
          point_res_cervicales.style.backgroundColor = 'yellow';
          texte_res_cervicales.innerHTML = 'Vous pourriez am√©liorer certains d√©tails ... pour que vos cervicales aillent mieux !';
        } else if(liste_scores[0] == 2){
          point_res_cervicales.style.backgroundColor = 'red';
          texte_res_cervicales.innerHTML = 'A√Øe ... Vos cervicales souffrent ! Essayez d\'am√©liorer vos conditions de travail !';
        }

        if(liste_scores[1] == 0){
          point_res_yeux.style.backgroundColor = 'green';
          texte_res_yeux.innerHTML = 'Vos yeux vont bien ! Continuez ainsi !';
        } else if(liste_scores[1] == 1){
          point_res_yeux.style.backgroundColor = 'yellow';
          texte_res_yeux.innerHTML = 'Vous pourriez am√©liorer certains d√©tails ... pour que vos yeux aillent mieux !';
        } else if(liste_scores[1] == 2){
          point_res_yeux.style.backgroundColor = 'red';
          texte_res_yeux.innerHTML = 'A√Øe ... Vos yeux souffrent ! Essayez d\'am√©liorer vos conditions de travail !';
        }

        if(liste_scores[2] == 0){
          point_res_epaules.style.backgroundColor = 'green';
          texte_res_epaules.innerHTML = 'Vos √©paules vont bien ! Continuez ainsi !';
        } else if(liste_scores[2] > 0 && liste_scores[2] < 3){
          point_res_epaules.style.backgroundColor = 'yellow';
          texte_res_epaules.innerHTML = 'Vous pourriez am√©liorer certains d√©tails ... pour que vos √©paules aillent mieux !';
        } else if(liste_scores[2] > 2){
          point_res_epaules.style.backgroundColor = 'red';
          texte_res_epaules.innerHTML = 'A√Øe ... Vos √©paules souffrent ! Essayez d\'am√©liorer vos conditions de travail !';
        }
        document.getElementById('partie_epaules').style.display = 'none';
        document.getElementById('retour').style.display = 'none';
        document.getElementById('terminer').style.display = 'none';
        document.getElementById('partie_resultats').style.display = 'inline-block';
      }
    </script>

    <style media="screen">
      body{
        background-color: #DDDDDD;
      }
      fieldset{
        width: 50%;
      }
      .container{
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      .radio_container {
        display: flex;
        justify-content: space-around;
        align-items: center;
        background-color: #cecece;
        width: 280px;
        height: 50px;
        border-radius: 9999px;
        box-shadow: inset 0.5px 0.5px 2px 0 rgba(0, 0, 0, 0.15);
      }
      input[type="radio"] {
        appearance: none;
        display: none;
      }
      label {
        font-family: "Open Sans", sans-serif;
        font-size: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: inherit;
        width: 80px;
        height: 40px;
        text-align: center;
        border-radius: 9999px;
        overflow: hidden;
        transition: linear 0.3s;
        color: #6e6e6edd;
        cursor: pointer;
      }
      input[type="radio"]:checked + label {
        background-color: #1e90ff;
        color: #f1f3f5;
        font-weight: 900;
        transition: 0.3s;
      }
      #titre_params{
        color: white;
        background-color: #000000;
        width: 100%;
        height: 100%;
        margin-right: 1%;
        text-align: center;
        padding-top: 0.7%;
        border-radius: 9999px 4000px 4000px 9999px;
      }
      button{
        box-sizing: border-box;
        appearance: none;
        background-color: transparent;
        border: 2px solid #2ecc71;
        border-radius: 0.6em;
        color: #2ecc71;
        cursor: pointer;
        display: flex;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1;
        margin: 3% auto 0px auto;
        padding: 1.2em 2.8em;
        text-decoration: none;
        text-align: center;
        text-transform: uppercase;
        font-family: 'Open Sans', sans-serif;
        font-weight: 700;
        transition: box-shadow 300ms ease-in-out, color 300ms ease-in-out;
      }
      button:hover{
        color: #fff;
        box-shadow: 0 0 40px 40px #2ecc71 inset;
        outline: 0;
      }
      #retour{
        border: 2px solid #BBBBBB;
        color: #BBBBBB;
      }
      #retour:hover{
        color: #CC4136;
        box-shadow: 0 0 40px 40px #CCCCCC inset;
        outline: 0;
      }
      #save_params{
        position: absolute;
        top: 2.5%;
        left: 1.5%;
        width: 20%;
        align-items: center;
        padding: 15px;
        border: 1px solid #CCCCCC;
        border-radius: 10px;
      }
    </style>
  </body>
</html>
